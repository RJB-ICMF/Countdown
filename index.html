<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICMF 2025 Workshop Countdown</title>
    <link rel="icon" href="Assets/interchurches.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #f5f5ff;
            color: #333;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        
        .header {
            background: linear-gradient(to right, #7b5bb5, #65a69f, #8bc34a);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            width: 100%;
            box-sizing: border-box;
        }
        
        .header-left {
            display: flex;
            align-items: center;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            margin-right: 15px;
            object-fit: contain;
        }
        
        .header-text {
            display: flex;
            flex-direction: column;
        }
        
        .header-title {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .header-subtitle {
            font-size: 16px;
        }
        
        .header-countdown {
            display: flex;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 8px 10px;
            border-radius: 8px;
            margin-left: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .header-countdown-item {
            margin: 0 5px;
            text-align: center;
        }
        
        .header-countdown-number {
            font-size: 1.3rem;
            font-weight: bold;
            background-color: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 4px 6px;
            border-radius: 4px;
            display: block;
            min-width: 25px;
        }
        
        .header-countdown-label {
            font-size: 0.65rem;
            margin-top: 3px;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .content {
            max-width: 100%;
            margin: 0 auto;
            padding: 30px 15px;
            box-sizing: border-box;
        }
        
        .theme {
            text-align: center;
            color: #7b5bb5;
            font-size: 24px;
            font-style: italic;
            margin-bottom: 30px;
            padding: 0 10px;
        }
        
        .quote-box {
            padding: 15px;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin: 0 auto 30px;
            max-width: 90%;
            border-radius: 8px;
        }
        
        .quote-text {
            font-size: 16px;
            line-height: 1.5;
            color: #333;
            margin-bottom: 10px;
        }
        
        .text {
            font-size: 18px !important;
            font-weight: bold;
            color: rgba(123, 91, 181, 1) !important;
            margin-top: 12px;
        }
        
        /* Slideshow Styles - Fixed for PC */
        .slideshow-container {
            width: 90%;
            margin: 30px auto;
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            height: 0;
            padding-bottom: 50%; /* Aspect ratio for responsive height */
            max-height: 600px; /* Maximum height on large screens */
        }
        
        /* For larger screens, use fixed height */
        @media (min-width: 1200px) {
            .slideshow-container {
                height: 500px;
                padding-bottom: 0;
            }
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        /* Audio control button */
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(123, 91, 181, 0.8);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            color: white;
            font-size: 20px;
            transition: all 0.3s ease;
        }
        
        .audio-control:hover {
            background-color: rgba(123, 91, 181, 1);
        }
        
        /* Safe area padding for modern mobile devices */
        @supports(padding: max(0px)) {
            body {
                padding-left: max(0px, env(safe-area-inset-left));
                padding-right: max(0px, env(safe-area-inset-right));
                padding-top: max(0px, env(safe-area-inset-top));
                padding-bottom: max(0px, env(safe-area-inset-bottom));
            }
            
            .audio-control {
                bottom: max(20px, env(safe-area-inset-bottom) + 10px);
                right: max(20px, env(safe-area-inset-right) + 10px);
            }
        }
        
        @media (max-width: 1024px) {
            .header {
                justify-content: center;
            }
            
            .header-countdown {
                margin-top: 15px;
                margin-left: 0;
                width: 100%;
            }
            
            .slideshow-container {
                padding-bottom: 56.25%; /* 16:9 aspect ratio */
            }
        }
        
        @media (max-width: 768px) {
            .header-left {
                flex-direction: column;
                text-align: center;
                width: 100%;
            }
            
            .logo {
                margin-right: 0;
                margin-bottom: 10px;
                width: 70px;
                height: 70px;
            }
            
            .header-text {
                align-items: center;
                margin-bottom: 15px;
            }
            
            .slideshow-container {
                padding-bottom: 66.67%; /* 3:2 aspect ratio */
            }
            
            .header-title {
                font-size: 20px;
            }
            
            .header-subtitle {
                font-size: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .header {
                padding: 10px;
            }
            
            .header-countdown-number {
                font-size: 1.1rem;
                min-width: 22px;
                padding: 4px;
            }
            
            .header-countdown-label {
                font-size: 0.55rem;
            }
            
            .header-title {
                font-size: 18px;
            }
            
            .header-subtitle {
                font-size: 14px;
            }
            
            .theme {
                font-size: 20px;
            }
            
            .quote-text {
                font-size: 14px;
            }
            
            .text {
                font-size: 16px !important;
            }
            
            .slideshow-container {
                padding-bottom: 75%; /* 4:3 aspect ratio for small screens */
            }
            
            .audio-control {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
            
            .quote-box {
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Audio Element with all possible autoplay attributes -->
    <audio id="background-audio" autoplay muted preload="auto" >
        <source src="Assets/background.mp4" type="audio/mp4">
        Your browser does not support the audio element.
    </audio>
    
    <!-- Audio control button -->
    <div class="audio-control" id="audio-control">
        <i class="fas fa-volume-mute" id="audio-icon"></i>
    </div>
    
    <div class="header">
        <div class="header-left">
            <img src="Assets/interchurches.png" alt="Inter Churches Logo" class="logo">
            <div class="header-text">
                <div class="header-title">INTER CHURCHES MUSIC FESTIVAL</div>
                <div class="header-subtitle">2025 WORKSHOP</div>
            </div>
        </div>
        
        <!-- Countdown moved to the header -->
        <div class="header-countdown" id="header-countdown">
            <div class="header-countdown-item">
                <span class="header-countdown-number" id="header-days">00</span>
                <span class="header-countdown-label">Days</span>
            </div>
            <div class="header-countdown-item">
                <span class="header-countdown-number" id="header-hours">00</span>
                <span class="header-countdown-label">Hours</span>
            </div>
            <div class="header-countdown-item">
                <span class="header-countdown-number" id="header-minutes">00</span>
                <span class="header-countdown-label">Minutes</span>
            </div>
            <div class="header-countdown-item">
                <span class="header-countdown-number" id="header-seconds">00</span>
                <span class="header-countdown-label">Seconds</span>
            </div>
        </div>
    </div>
    
    <div class="content" style="text-align: center;">
        <div class="theme">Coming up on Saturday 15th March, 2025</div>
        
        <div class="quote-box">
            <div class="quote-text">
                "At ACK St. Paul's Church Athi River from 6:00 am. Let's keep time."
            </div>
            <div class="text">See You There!</div>
        </div>
        
        <!-- Slideshow -->
        <div class="slideshow-container">
            <div class="slide" style="background-image: url('Assets/Pic5.jpg');"></div>
            <div class="slide" style="background-image: url('Assets/Pic4.jpg');"></div>
            <div class="slide" style="background-image: url('Assets/Pic3.jpg');"></div>
            <div class="slide" style="background-image: url('Assets/Pic2.jpg');"></div>
            <div class="slide" style="background-image: url('Assets/Pic1.jpg');"></div>
        </div>
    </div>

    <script>
        // Set the countdown date (March 15, 2025)
        const countdownDate = new Date('March 15, 2025 00:00:00').getTime();
        
        // Audio element
        const audio = document.getElementById('background-audio');
        const audioControl = document.getElementById('audio-control');
        const audioIcon = document.getElementById('audio-icon');
        let audioPlaying = false;
        
        // Audio control functionality
        audioControl.addEventListener('click', function() {
            if (audioPlaying) {
                audio.pause();
                audioIcon.className = 'fas fa-volume-mute';
            } else {
                audio.play()
                    .then(() => {
                        audio.muted = false;
                    })
                    .catch(error => {
                        console.log("Play failed:", error);
                    });
                audioIcon.className = 'fas fa-volume-up';
            }
            audioPlaying = !audioPlaying;
        });
        
        // Force play on page load and unmute the audio
        window.onload = function() {
            // Try to automatically play on page load
            audio.play()
                .then(() => {
                    // Successfully started playing
                    setTimeout(() => {
                        // Unmute after a very short delay
                        audio.muted = false;
                        audioPlaying = true;
                        audioIcon.className = 'fas fa-volume-up';
                    }, 10);
                })
                .catch(error => {
                    console.log("Initial autoplay failed:", error);
                    // Keep the mute icon as is
                });
                
            // As a backup, try to play on any user interaction
            document.body.addEventListener('click', function() {
                if (audio.paused && !audioPlaying) {
                    audio.muted = false;
                    audio.play()
                        .then(() => {
                            audioPlaying = true;
                            audioIcon.className = 'fas fa-volume-up';
                        });
                }
            }, { once: true });
        };
        
        // Slideshow functionality
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        
        function showSlide(index) {
            // Remove active class from all slides
            slides.forEach(slide => {
                slide.classList.remove('active');
            });
            
            // Add active class to the current slide
            slides[index].classList.add('active');
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }
        
        // Initialize slideshow
        showSlide(currentSlide);
        
        // Change slide every 5 seconds
        setInterval(nextSlide, 5000);
        
        // Update countdown every second
        const countdownTimer = setInterval(function() {
            // Get today's date and time
            const now = new Date().getTime();
            
            // Find the distance between now and the countdown date
            const distance = countdownDate - now;
            
            // Time calculations for days, hours, minutes and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            // Display the result in the header countdown
            document.getElementById('header-days').textContent = days.toString().padStart(2, '0');
            document.getElementById('header-hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('header-minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('header-seconds').textContent = seconds.toString().padStart(2, '0');
            
            // If the countdown is finished, display message
            if (distance < 0) {
                clearInterval(countdownTimer);
                document.getElementById('header-countdown').innerHTML = '<h3 style="margin: 0; color: #fff;">The date has arrived!</h3>';
            }
        }, 1000);
    </script>
</body>
</html>
